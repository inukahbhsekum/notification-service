version: "3.9"

services:
  database:
    image: postgres:15.4
    ports:
      - '5432:5432'
    environment:
      - 'POSTGRES_USER=nsd'
      - 'POSTGRES_PASSWORD=nsd'
      - 'POSTGRES_DB=notification-service-db'
      - "POSTGRES_INITDB_ARGS='--encoding=UTF-8'"
    volumes:
      - database:/var/lib/postgresql/data  # Attach named volume to correct PostgreSQL path

# âœ… `volumes:` section should be at the root level with correct mapping syntax
volumes:
  database:  # Define the named volume properly
